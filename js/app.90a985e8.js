(function(t){function e(e){for(var o,s,l=e[0],i=e[1],c=e[2],u=0,p=[];u<l.length;u++)s=l[u],n[s]&&p.push(n[s][0]),n[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,s=1;s<a.length;s++){var i=a[s];0!==n[i]&&(o=!1)}o&&(r.splice(e--,1),t=l(l.s=a[0]))}return t}var o={},n={app:0},r=[];function s(t){return l.p+"js/"+({about:"about"}[t]||t)+"."+{about:"89a8d866"}[t]+".js"}function l(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a=n[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise(function(e,o){a=n[t]=[e,o]});e.push(a[2]=o);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=s(t),r=function(e){i.onerror=i.onload=null,clearTimeout(c);var a=n[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+o+": "+r+")");s.type=o,s.request=r,a[1](s)}n[t]=void 0}};var c=setTimeout(function(){r({type:"timeout",target:i})},12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(e)},l.m=t,l.c=o,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)l.d(a,o,function(e){return t[e]}.bind(null,o));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/",l.oe=function(t){throw console.error(t),t};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1420:function(t,e,a){"use strict";var o=a("f72b"),n=a.n(o);n.a},"4bb6":function(t,e,a){"use strict";var o=a("56e1"),n=a.n(o);n.a},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),n=a("bb71");a("da64");o["a"].use(n["a"],{iconfont:"md"});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("router-view")],1)],1)},s=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("audio",{attrs:{controls:""}},[a("source",{attrs:{id:"song",src:"http://localhost:9000/song/a_cool_song",type:"audio/mpeg"}}),t._v("Your browser does not support the audio element.\n      ")])])],1)],1)},i=[],c={data:()=>({})},u=c,d=a("2877"),p=a("6544"),h=a.n(p),f=a("a523"),v=a("0e8f"),g=a("a722"),m=Object(d["a"])(u,l,i,!1,null,null,null),b=m.exports;h()(m,{VContainer:f["a"],VFlex:v["a"],VLayout:g["a"]});var y={name:"App",components:{HelloWorld:b},data(){return{}}},_=y,w=a("7496"),V=a("549c"),x=Object(d["a"])(_,r,s,!1,null,null,null),C=x.exports;h()(x,{VApp:w["a"],VContent:V["a"]});var k=a("8c4f"),T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-toolbar",{attrs:{app:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",{staticClass:"font-weight-light"},[t._v("Flasky.mp3")])]),a("v-spacer"),a("v-btn",{attrs:{color:"info"},on:{click:function(e){return t.logout()}}},[t._v("logout from "+t._s(t.username))])],1),a("v-btn",{staticClass:"upload",attrs:{color:"info"},on:{click:function(e){return t.upload()}}},[t._v("upload")]),t._l(t.songData,function(e,o){return a("v-content",{key:o},[a("v-card",{attrs:{color:"info",dark:""}},[a("v-card-title",[a("span",{staticClass:"title font-weight-light"},[t._v(t._s(e.postName))])]),a("v-card-text",{staticClass:"headline font-weight-bold"},[a("audio",{attrs:{controls:""}},[a("source",{attrs:{id:"song",src:"http://localhost:9000/song/"+e.postName,type:"audio/mpeg"}}),t._v("Your browser does not support the audio element.\n        ")])]),a("v-card-actions",[a("v-list-tile",{staticClass:"grow"},[a("v-list-tile-avatar",{attrs:{color:"grey darken-3"}},[a("v-icon",[t._v("person")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.by))])],1),a("v-layout",{attrs:{"align-center":"","justify-end":""}},[a("v-btn",{staticClass:"space",attrs:{to:{name:"user",params:{id:e.by}}}},[t._v(t._s(e.by)+"'s posts")]),e.by==t.username?a("v-btn",{staticClass:"space",attrs:{color:"danger"},on:{click:function(a){return t.delet(e.postName)}}},[t._v("remove")]):t._e(),a("a",{attrs:{href:"http://localhost:9000/song/"+e.postName,target:"_blank"}},[a("v-btn",{staticClass:"space"},[t._v("Download")])],1)],1)],1)],1)],1)],1)})],2)},S=[],j={data:()=>({songData:[],username:localStorage.getItem("username")}),methods:{async load(){var t=this;await fetch("http://localhost:9000/users/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){if(console.log(e),200!=e.status)throw console.error("an error occured");e.json().then(function(e){console.log(e),t.songData=e.message,t.songData.reverse()})}).catch(function(e){console.log("Fetch Error :-S",e),t.logout()})},upload(){this.$router.push({name:"upload"})},logout(){localStorage.removeItem("token"),this.$router.push("/login")},async delet(t){await fetch("http://localhost:9000/posts/"+t,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(t){if(console.log(t),200!=t.status)throw console.error("an error occured");t.json().then(function(t){console.log(t)})}).catch(function(t){console.log("Fetch Error :-S",t)}),await this.load()}},async mounted(){await this.load()}},E=j,I=(a("9022"),a("8336")),O=a("b0af"),$=a("99d9"),A=a("12b2"),L=a("132d"),F=a("ba95"),P=a("c954"),D=a("5d23"),N=a("9910"),z=a("71d9"),B=a("2a7f"),q=Object(d["a"])(E,T,S,!1,null,"55a01266",null),R=q.exports;h()(q,{VBtn:I["a"],VCard:O["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:A["a"],VContainer:f["a"],VContent:V["a"],VIcon:L["a"],VLayout:g["a"],VListTile:F["a"],VListTileAvatar:P["a"],VListTileContent:D["a"],VListTileTitle:D["b"],VSpacer:N["a"],VToolbar:z["a"],VToolbarTitle:B["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-content",[t.loading?a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[t.loading?a("v-progress-circular",{attrs:{size:70,width:7,color:"indigo lighten-1",indeterminate:""}}):t._e()],1)],1):t._e(),t.loading?t._e():a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"align-center","justify-center":"justify-center"}},[a("v-flex",{staticClass:"login-form text-xs-center"},[a("v-card",{attrs:{light:"light"}},[a("v-card-text",[a("div",{staticClass:"display-1 mb-3"},[a("v-avatar",{attrs:{size:"65px",color:"orange lighten-2"}},[a("v-icon",{attrs:{"x-large":"",color:"black"}},[t._v("map")])],1)],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-alert",{attrs:{value:t.alert,color:"error",icon:"new_releases"}},[t._v("wrong info or bad connection.")]),a("v-alert",{attrs:{value:t.alert2,color:"success",icon:"new_releases"}},[t._v("created successfuly")]),a("v-text-field",{attrs:{light:"light","prepend-icon":"person",type:"text",counter:8,rules:t.nameRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{light:"light","prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password",counter:10,rules:t.passRules,required:""},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}}),a("v-btn",{staticClass:"black--text",attrs:{color:"orange lighten-2",disabled:!t.valid},on:{click:t.validate}},[t._v("Sign up")])],1)],1)],1),a("div",{staticStyle:{"margin-top":"13px"}},[t._v("\n              Don't have an account?\n              "),a("router-link",{attrs:{to:{name:"login"}}},[t._v("sign in")])],1)],1)],1)],1)],1)],1)],1)},M=[],Y={data:()=>({valid:!0,name:"",pass:"",alert2:!1,description:"",nameRules:[t=>!!t||"field is required",t=>t&&t.length<=10||"field must be less than 10 characters"],noRules:[t=>!!t||"field is required",t=>t&&t.length<=20||"field cant be more than 20 characters"],passRules:[t=>!!t||"password is required",t=>t&&t.length<=8&&t.length>=6||"password must be less than 9 characters and longer than 5"],alert:!1,loading:!1}),methods:{async validate(){var t=this;this.$refs.form.validate()&&(t.loading=!0,t.alert2=!1,this.snackbar=!0,console.log(this.name,this.pass),await fetch("http://localhost:9000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:""+t.pass,username:""+t.name})}).then(function(e){if(400==e.status)return console.log("Looks like there was a problem. Status Code: "+e.status),t.alert=!0,void(t.loading=!1);200==e.status&&e.json().then(function(e){console.log(e),t.loading=!1,t.alert2=!0})}).catch(function(e){console.log("Fetch Error :-S",e),console.log(t.name,t.pass),console.log("error occured wile trying to connect refresh to continue"),t.alert=!0,t.loading=!1}))},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()}}},G=Y,H=(a("f676"),a("0798")),W=a("8212"),K=a("4bd4"),Q=a("490a"),U=a("2677"),X=Object(d["a"])(G,J,M,!1,null,"7f48316a",null),Z=X.exports;h()(X,{VAlert:H["a"],VApp:w["a"],VAvatar:W["a"],VBtn:I["a"],VCard:O["a"],VCardText:$["b"],VContainer:f["a"],VContent:V["a"],VFlex:v["a"],VForm:K["a"],VIcon:L["a"],VLayout:g["a"],VProgressCircular:Q["a"],VTextField:U["a"]});var tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-content",[t.loading?a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[t.loading?a("v-progress-circular",{attrs:{size:70,width:7,color:"indigo lighten-1",indeterminate:""}}):t._e()],1)],1):t._e(),t.loading?t._e():a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"align-center","justify-center":"justify-center"}},[a("v-flex",{staticClass:"login-form text-xs-center"},[a("v-card",{attrs:{light:"light"}},[a("v-card-text",[a("div",{staticClass:"display-1 mb-3"},[a("v-avatar",{attrs:{size:"65px",color:"info"}},[a("v-icon",{attrs:{"x-large":"",color:"white"}},[t._v("person")])],1)],1),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-alert",{attrs:{value:t.alert,color:"error",icon:"new_releases"}},[t._v("wrong info or bad connection.")]),a("v-text-field",{attrs:{light:"light","prepend-icon":"person",type:"text",counter:30,rules:t.eRules,label:"Name",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{light:"light","prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password",counter:10,rules:t.passRules,required:""},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}}),a("v-btn",{staticClass:"white--text",attrs:{color:"info",disabled:!t.valid},on:{click:t.validate}},[t._v("Sign in")])],1)],1)],1),a("div",{staticStyle:{"margin-top":"13px"}},[t._v("\n              Don't have an account?\n              "),a("router-link",{attrs:{to:{name:"signup"}}},[t._v("sign up")])],1)],1)],1)],1)],1)],1)],1)},et=[],at={data:()=>({valid:!0,name:"",pass:"",eRules:[t=>!!t||"Name is required",t=>t&&t.length<=30||"Name must be less than 30 characters"],passRules:[t=>!!t||"password is required",t=>t&&t.length<=10||"password must be less than 10 characters"],alert:!1,loading:!1}),methods:{async validate(){var t=this;this.$refs.form.validate()&&(t.loading=!0,this.snackbar=!0,console.log(this.name,this.pass),await fetch("http://localhost:9000/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:""+this.name,password:""+this.pass})}).then(function(e){if(200!==e.status)return console.log("Looks like there was a problem. Status Code: "+e.status),t.alert=!0,t.loading=!1,void t.reset();200==e.status&&e.json().then(function(e){console.log(e),localStorage.setItem("token",e.data["token"]),localStorage.setItem("username",e.data["username"]),t.$router.push({name:"home"})})}).catch(function(e){console.log("Fetch Error :-S",e),console.log(t.email,t.pass),console.log("error occured wile trying to connect refresh to continue"),t.alert=!0,t.loading=!1}))},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()}}},ot=at,nt=(a("66c0"),Object(d["a"])(ot,tt,et,!1,null,null,null)),rt=nt.exports;h()(nt,{VAlert:H["a"],VApp:w["a"],VAvatar:W["a"],VBtn:I["a"],VCard:O["a"],VCardText:$["b"],VContainer:f["a"],VContent:V["a"],VFlex:v["a"],VForm:K["a"],VIcon:L["a"],VLayout:g["a"],VProgressCircular:Q["a"],VTextField:U["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("div",{staticClass:"text-xs-center"},[t.loading?a("v-progress-circular",{attrs:{size:70,width:7,color:"primary",indeterminate:""}}):t._e()],1),t.loading?t._e():a("div",[a("v-alert",{attrs:{value:t.alert,color:"error",icon:"new_releases"}},[t._v("an error occured.")]),a("v-layout",{attrs:{"align-space-between":"","justify-start":"",column:""}},[a("v-text-field",{attrs:{type:"text",label:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-text-field",{attrs:{type:"text",label:"description"},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}}),a("input",{attrs:{id:"file",type:"file",accept:"*"}}),a("v-btn",{on:{click:function(e){return t.upload()}}},[t._v("send")])],1)],1)])},lt=[],it={data:()=>({description:"",name:"",alert:!1,loading:!1}),methods:{upload(){console.log("uploaded"),this.load()},async load(){var t=this;t.loading=!0;var e=document.getElementById("file").files[0];if(e&&this.name&&this.description){this.alert=!1;let a=new FormData;a.append("name",this.name),a.append("description",this.description),a.append("profile",e),await fetch("http://localhost:9000/upload",{method:"POST",headers:{Authorization:"Bearer "+localStorage.getItem("token")},body:a}).then(function(e){if(200!=e.status)throw console.error("an error occured");e.json().then(function(e){console.log(e),t.loading=!1,t.$router.push({name:"home"})})}).catch(function(t){console.log("Fetch Error :-S",t)})}else this.alert=!0,t.loading=!1}}},ct=it,ut=(a("4bb6"),Object(d["a"])(ct,st,lt,!1,null,"4a542222",null)),dt=ut.exports;h()(ut,{VAlert:H["a"],VBtn:I["a"],VContainer:f["a"],VLayout:g["a"],VProgressCircular:Q["a"],VTextField:U["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-toolbar",{attrs:{app:""}},[a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",{staticClass:"font-weight-light"},[t._v("Flasky.mp3")])]),a("v-spacer"),a("v-btn",{attrs:{color:"info"},on:{click:function(e){return t.logout()}}},[t._v("logout from "+t._s(t.username))])],1),a("v-btn",{staticClass:"upload",attrs:{color:"info"},on:{click:function(e){return t.upload()}}},[t._v("upload")]),t._l(t.songData,function(e,o){return a("v-content",{key:o},[a("v-card",{attrs:{color:"info",dark:""}},[a("v-card-title",[a("span",{staticClass:"title font-weight-light"},[t._v(t._s(e.postName))])]),a("v-card-text",{staticClass:"headline font-weight-bold"},[a("audio",{attrs:{controls:""}},[a("source",{attrs:{id:"song",src:"http://localhost:9000/song/"+e.postName,type:"audio/mpeg"}}),t._v("Your browser does not support the audio element.\n        ")])]),a("v-card-actions",[a("v-list-tile",{staticClass:"grow"},[a("v-list-tile-avatar",{attrs:{color:"grey darken-3"}},[a("v-icon",[t._v("person")])],1),a("v-list-tile-content",[a("v-list-tile-title",[t._v(t._s(e.by))])],1),a("v-layout",{attrs:{"align-center":"","justify-end":""}},[e.by==t.username?a("v-btn",{staticClass:"space",attrs:{color:"danger"},on:{click:function(a){return t.delet(e.postName)}}},[t._v("remove")]):t._e(),a("a",{attrs:{href:"http://localhost:9000/song/"+e.postName,target:"_blank"}},[a("v-btn",{staticClass:"space"},[t._v("Download")])],1)],1)],1)],1)],1)],1)})],2)},ht=[],ft={data:()=>({songData:[],username:localStorage.getItem("username")}),methods:{async load(){var t=this;await fetch("http://localhost:9000/users/"+this.$route.params.id,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){if(console.log(e),200!=e.status)throw console.error("an error occured");e.json().then(function(e){console.log(e),t.songData=e.message,t.songData.reverse()})}).catch(function(e){console.log("Fetch Error :-S",e),t.logout()})},upload(){this.$router.push({name:"upload"})},logout(){localStorage.removeItem("token"),this.$router.push("/login")},async delet(t){await fetch("http://localhost:9000/posts/"+t,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(t){if(console.log(t),200!=t.status)throw console.error("an error occured");t.json().then(function(t){console.log(t)})}).catch(function(t){console.log("Fetch Error :-S",t)}),await this.load()}},async mounted(){await this.load()}},vt=ft,gt=(a("1420"),Object(d["a"])(vt,pt,ht,!1,null,"014f2f87",null)),mt=gt.exports;h()(gt,{VBtn:I["a"],VCard:O["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:A["a"],VContainer:f["a"],VContent:V["a"],VIcon:L["a"],VLayout:g["a"],VListTile:F["a"],VListTileAvatar:P["a"],VListTileContent:D["a"],VListTileTitle:D["b"],VSpacer:N["a"],VToolbar:z["a"],VToolbarTitle:B["a"]}),o["a"].use(k["a"]);var bt=new k["a"]({mode:"history",base:"/",routes:[{path:"/signup",name:"signup",component:Z,beforeEnter:(t,e,a)=>{const o=localStorage.getItem("token");if(o)return a("/login");a()}},{path:"/user/:id",name:"user",component:mt,beforeEnter:(t,e,a)=>{const o=["/login"],n=!o.includes(t.path),r=localStorage.getItem("token");if(n&&!r)return a("/login");a()}},{path:"/login",name:"login",component:rt,beforeEnter:(t,e,a)=>{const o=localStorage.getItem("token");if(o)return a("/");a()}},{path:"/",name:"home",component:R,props:!0,beforeEnter:(t,e,a)=>{const o=localStorage.getItem("token");if(!o)return a("/login");a()}},{path:"/upload",name:"upload",component:dt,beforeEnter:(t,e,a)=>{const o=localStorage.getItem("token");if(!o)return a("/login");a()}},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]});o["a"].config.productionTip=!1,new o["a"]({router:bt,render:function(t){return t(C)}}).$mount("#app")},"56e1":function(t,e,a){},"5c76":function(t,e,a){},"66b6":function(t,e,a){},"66c0":function(t,e,a){"use strict";var o=a("c904"),n=a.n(o);n.a},9022:function(t,e,a){"use strict";var o=a("5c76"),n=a.n(o);n.a},c904:function(t,e,a){},f676:function(t,e,a){"use strict";var o=a("66b6"),n=a.n(o);n.a},f72b:function(t,e,a){}});
//# sourceMappingURL=app.90a985e8.js.map